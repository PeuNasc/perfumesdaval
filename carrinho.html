<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrinho - Perfumes da Val</title>
    <link rel="icon" href="carrinho-de-compras.png" type="image/icone">
    <link id="css1" rel="stylesheet" href="stylecarrinho.css">
    <link id="css2" rel="stylesheet" href="stylecarrinho2.css" disabled>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="nome-loja"><h1>Perfumes da Val</h1></a>
        </div>
        <button id="botao_acessibilidade1" onclick="alternarEstilos()">
        <img id="imgacessibilidade" src="iconeacessibilididade.png" alt="Ativar Acessibilidade">
        </button>
    </header>
    <section id="cart" class="cart">
        <h2>Itens no Carrinho</h2>
        <ul id="cart-items"></ul>
        <p>Total: R$ <span id="cart-total">0.00</span></p>
    </section>
     <section id="checkout">
        <button id="whatsapp-button" class="whatsapp-btn">
            Enviar Pedido para o WhatsApp ðŸ›’
        </button>
    </section>
    <section>
        <button id="deixe-feedback">
            <a href="feedback.html" id="link-html" target="_blank">Deixe aqui seu Feeback!</a>
        </button>
    </section>
    <footer class="footer">
        <h1 class="rodape">&copy; 2025 Perfumes da Val. Todos os direitos reservados.</h1>
    </footer>
    
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const cart = [];
            const cartItems = document.getElementById("cart-items");
            const cartTotal = document.getElementById("cart-total");

            document.querySelectorAll(".add-to-cart").forEach(button => {
                button.addEventListener("click", () => {
                    const name = button.getAttribute("data-name");
                    const price = parseFloat(button.getAttribute("data-price"));

                    const existingItem = cart.find(item => item.name === name);

                    if (existingItem) {
                        existingItem.quantity += 1;
                    } else {
                        cart.push({ name, price, quantity: 1 });
                    }

                    updateCart();
                    saveCartToLocalStorage();
                });
            });

            function updateCart() {
                cartItems.innerHTML = "";

                let total = 0;

                cart.forEach((item, index) => {
                    total += item.price * item.quantity;
                    const li = document.createElement("li");
                    li.textContent = `${item.name} (x${item.quantity}) - R$ ${(item.price * item.quantity).toFixed(2)}`;

                    const removeButton = document.createElement("button");
                    removeButton.textContent = "Remover";
                    removeButton.addEventListener("click", () => {
                        if (item.quantity > 1) {
                            item.quantity -= 1;
                        } else {
                            cart.splice(index, 1);
                        }

                        updateCart();
                        saveCartToLocalStorage();
                    });

                    li.appendChild(removeButton);
                    cartItems.appendChild(li);
                });

                cartTotal.textContent = total.toFixed(2);
            }

            function saveCartToLocalStorage() {
                localStorage.setItem("cart", JSON.stringify(cart));
            }

            function loadCartFromLocalStorage() {
                const storedCart = JSON.parse(localStorage.getItem("cart"));
                if (storedCart) {
                    storedCart.forEach(item => cart.push(item));
                    updateCart();
                }
            }

            loadCartFromLocalStorage();
        });
    </script>

   

    <script>
        document.getElementById("whatsapp-button").addEventListener("click", function() {
            let cartItems = JSON.parse(localStorage.getItem("cart")) || [];
            let cartMessage = "OlÃ¡! Tudo bem?\n\n";
            cartMessage += "Por favor, preencha as informaÃ§Ãµes abaixo para finalizar seu pedido:\n\n";
            cartMessage += "*Seu Nome:* [Digite aqui]\n";
            cartMessage += "*EndereÃ§o:* [Digite aqui]\n";
            cartMessage += "*Forma de Pagamento:* [Digite aqui]\n\n";
            cartMessage += "*Resumo do Pedido:*\n\n";

            cartItems.forEach(item => {
                cartMessage += `- ${item.name} (x${item.quantity}) - R$ ${(item.price * item.quantity).toFixed(2)}\n`;
            });

            cartMessage += `\n*Total:* R$ ${cartItems.reduce((total, item) => total + item.price * item.quantity, 0).toFixed(2)}\n\n`;
            cartMessage += "Obrigado por escolher *PERFUMES DA VAL*! Se precisar de algo, estamos aqui para ajudar.";

            let whatsappLink = `https://wa.me/557581701297text=${encodeURIComponent(cartMessage)}`; 
            window.open(whatsappLink, "_blank");
        });
    </script>
    <script src="tema.js"></script>
</body>
</html>
